# Milestone v1.1: Execution Isolation & Failure Learnings

**Status:** SHIPPED 2026-01-21
**Phases:** 11-12
**Total Plans:** 4

## Overview

GSD Lazy Mode v1.1 adds execution isolation (ralph.sh runs in a separate terminal window) and failure learnings (retry attempts learn from previous mistakes). Users can now close their Claude session after launching autopilot while ralph.sh continues executing independently. Failed tasks have their context extracted and propagated to retries for smarter recovery.

## Phases

### Phase 11: Terminal Launcher

**Goal**: Launch ralph.sh in a separate terminal window for execution isolation
**Depends on**: Phase 10 (builds on autopilot command)
**Requirements**: EXEC-01, EXEC-02, EXEC-03, EXEC-04
**Plans**: 2 plans

Plans:
- [x] 11-01-PLAN.md — Terminal launcher module with platform detection and detached spawning
- [x] 11-02-PLAN.md — Autopilot integration and end-to-end verification

**Success Criteria (achieved):**
1. User runs autopilot and ralph.sh launches in a new terminal window (not inline) ✓
2. Terminal type is auto-detected based on platform (Windows: cmd/PowerShell/Git Bash, macOS: Terminal.app, Linux: gnome-terminal/xterm) ✓
3. If no supported terminal is detected, autopilot displays manual run instructions ✓
4. Ralph.sh continues running independently after autopilot returns control ✓
5. User can close the original Claude session without stopping ralph.sh ✓

**Key Files:**
- bin/lib/terminal-launcher.js (270 lines)
- commands/gsd/autopilot.md (updated Step 4)
- package.json (command-exists dependency)

### Phase 12: Failure Learnings

**Goal**: Capture and propagate failure context so retries learn from mistakes
**Depends on**: Phase 7 (builds on learnings.sh infrastructure)
**Requirements**: FAIL-01, FAIL-02, FAIL-03, FAIL-04
**Plans**: 2 plans

Plans:
- [x] 12-01-PLAN.md — Failure extraction and storage functions in learnings.sh
- [x] 12-02-PLAN.md — Integration into ralph.sh execution loop

**Success Criteria (achieved):**
1. When a task fails, specific failure reason extracted from Claude's output ✓
2. Failure context structured into learnings format (what failed, why, what was attempted) ✓
3. Failure learnings appear in AGENTS.md under "Failure Context" section ✓
4. Next retry attempt receives failure learnings in its prompt ✓
5. User can review accumulated failure learnings in AGENTS.md ✓

**Key Files:**
- bin/lib/learnings.sh (802 lines, 5 new functions)
- bin/ralph.sh (530 lines, integration complete)
- .planning/AGENTS.md (Failure Context section)

---

## Milestone Summary

**Key Decisions:**
- Use command-exists for terminal detection (reliable cross-platform detection)
- Prioritize Windows Terminal > cmd > PowerShell > Git Bash (quality ordering)
- Implement manual fallback instructions (graceful degradation)
- Replace inline ralph.sh execution with terminal-launcher (execution isolation)
- Autopilot returns immediately after launch (no longer waits)
- Use jq for JSON parsing with grep/sed fallback (universal compatibility)
- Multi-line failure entry format (full context for retries)
- Phase-scoped subsections in Failure Context (enables selective cleanup)
- 100-failure cap per phase (prevents unbounded growth)

**Issues Resolved:**
- Fixed CRLF line ending issue in learnings.sh on Windows
- Implemented whitespace normalization in enforce_failure_cap

**Issues Deferred:**
- Terminal preference configuration (EXEC-05) → v2
- Terminal output streaming to log file (EXEC-06) → v2
- Failure type categorization (FAIL-05) → v2
- Remediation suggestions based on failure type (FAIL-06) → v2

**Technical Debt Incurred:**
None - v1.1 shipped clean.

---

*For current project status, see .planning/ROADMAP.md*

---
*Archived: 2026-01-21 as part of v1.1 milestone completion*
